depeg

=== priorization ===
- add bundleRegistry
- add getToken to (I)IntanceRegistry returning IERC20Metadata (onlySameChain)
- add wallet address attribute
- api

=== backlog ===
staking
- split into registry and staking
  + replace gif staking stuff with link to new registry
- add inspect_registry to deploy_depeg (shows registered tokens + instances)
- add inspect_staking to deploy_depeg (shows registered bundles, stakes, stakers)
- stop rewards once bundle lifetime is exceeded

investing/riskpool
- ok for now

mumbay
- price generator script
  + stable: rand .9955 - 1.02
  + trigger: 1x at 0.995, then rand 0.98 ,- .998
  + depeg: 1x .97, 1x.93, backdate triggered at, 1x.88
- fastapi server
- dockerfile

product
- figure out how to assess blance for account at depeg time (after the fact)
- claim payout
  + withdrawal period
  + policy considered expired after withdrawal  period
  + policy holder to actively withraw payout per/from protected wallet
  + token balance at block timestamp
  + withdrawPayout

=== done 22.23.22 ===
- add bundle name/lifetime to staking

=== done 21.12.22 ===
- instance name attribute
- split into registry and staking
  + factor out instance registry

=== done 20.12.22 ===
- bundle lifetime attribute
- bundle name attribute

=== done 18/19.12.22 ===
- store depeg price
- testnet functions
  + subtract24hFromTriggeredAt
  + reactivate
- token registration

-- to adapt

[Docker] ‚ùØ find . | grep '.py$' | xargs grep -n gifStaking | cut -d':' -f1 | sort | uniq -c
done/to be cleaned up
[+]  6 ./tests/conftest.py
done/to be removed
[+] 44 ./tests/test_staking_multiple_stakers.py
[+] 13 ./tests/test_staking_full_setup.py
[+] 11 ./tests/test_staking_data_provider.py
[+] 27 ./tests/test_staking_register_token.py
[+] 17 ./tests/test_staking_base.py
[+] 23 ./tests/test_staking_rate.py
[+]  8 ./tests/test_staking_rewards_calculation.py
[+] 26 ./tests/test_staking_simple.py
[+] 23 ./tests/test_staking_with_rewards.py
